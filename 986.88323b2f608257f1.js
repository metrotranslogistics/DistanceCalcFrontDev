"use strict";(self.webpackChunkDistanceCalcFront=self.webpackChunkDistanceCalcFront||[]).push([[986],{3986:(U,d,s)=>{s.r(d),s.d(d,{AccountModule:()=>T});var i=s(4719),a=s(6895),u=s(5146),e=s(5062),c=s(9429);let p=(()=>{class n{constructor(t,o){this.router=t,this.accountService=o,this.accountService.userValue&&this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(c.BR))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[u.lC],encapsulation:2}),n})();var f=s(7224);function g(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Username is required"),e.qZA())}function v(n,r){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,g,2,0,"div",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.username.errors.required)}}function h(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function C(n,r){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,h,2,0,"div",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.password.errors.required)}}function Z(n,r){1&n&&e._UZ(0,"span",14)}const m=function(n){return{"is-invalid":n}},b=[{path:"",component:p,children:[{path:"login",component:(()=>{class n{constructor(t,o,l,y,L){this.formBuilder=t,this.route=o,this.router=l,this.accountService=y,this.alertService=L,this.loading=!1,this.submitted=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){this.form=this.formBuilder.group({username:["",i.kI.required],password:["",i.kI.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe((0,f.P)()).subscribe(t=>{this.router.navigate([this.returnUrl],{relativeTo:this.route})},t=>{this.alertService.error(t),this.loading=!1}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu),e.Y36(u.gz),e.Y36(u.F0),e.Y36(c.BR),e.Y36(c.c9))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:11,consts:[[1,"card",2,"width","400px","margin","auto","width","50%"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Login"),e.qZA(),e.TgZ(3,"div",2)(4,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(5,"div",4)(6,"label",5),e._uU(7,"Username"),e.qZA(),e._UZ(8,"input",6),e.YNc(9,v,2,1,"div",7),e.qZA(),e.TgZ(10,"div",4)(11,"label",8),e._uU(12,"Password"),e.qZA(),e._UZ(13,"input",9),e.YNc(14,C,2,1,"div",7),e.qZA(),e.TgZ(15,"div",4)(16,"button",10),e.YNc(17,Z,1,0,"span",11),e._uU(18," Login "),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("ngClass",e.VKq(7,m,o.submitted&&o.f.username.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.username.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(9,m,o.submitted&&o.f.password.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.password.errors),e.xp6(2),e.Q6J("disabled",o.loading),e.xp6(1),e.Q6J("ngIf",o.loading))},dependencies:[a.mk,a.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],encapsulation:2}),n})()}]}];let A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(b),u.Bz]}),n})(),T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.ez,i.UX,A]}),n})()}}]);