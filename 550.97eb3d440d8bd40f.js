"use strict";(self.webpackChunkDistanceCalcFront=self.webpackChunkDistanceCalcFront||[]).push([[550],{4550:(Q,v,i)=>{i.r(v),i.d(v,{CategoriesModule:()=>z});var c=i(4719),p=i(6895),g=i(5146),e=i(5062);let A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-1"],[1,"container"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"router-outlet"),e.qZA()())},dependencies:[g.lC],encapsulation:2}),n})();var r=i(7224),d=i(805),u=i(9429),m=i(793),C=i(666),f=i(1383);function y(n,s){1&n&&(e.TgZ(0,"th"),e._uU(1,"Vehicle Id"),e.qZA(),e.TgZ(2,"th"),e._uU(3,"Category"),e.qZA())}function T(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",8)(1,"td")(2,"input",9),e.NdJ("ngModelChange",function(a){const h=e.CHM(t).$implicit;return e.KtG(h.isChecked=a)}),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()}if(2&n){const t=s.$implicit;e.Q6J("pSelectableRow",t),e.xp6(2),e.s9C("name",t.vechileId),e.s9C("id",t.vechileId),e.Q6J("ngModel",t.isChecked),e.xp6(1),e.hij(" ",t.vechileId,""),e.xp6(2),e.hij(" ",t.category," ")}}const Z=[{path:"",component:A,children:[{path:"",component:(()=>{class n{constructor(t,o,a,l,h,X){this.vechileService=t,this.messageService=o,this.accountService=a,this.intervalConfigService=l,this.router=h,this.route=X,this.categories=[],this.selectedCategory=[],this.userName="",this.userRole="",this.vechIds=[]}get values(){return this.vechIds=this.vechiles.filter(t=>t.isChecked).map(t=>t.vechileId),this.vechIds}ngOnInit(){this.categories=[],this.intervalConfigService.getAll().pipe((0,r.P)()).subscribe(t=>this.intervalConfig=t),this.accountService.getById(this.accountService.userValue.id).pipe((0,r.P)()).subscribe(t=>{this.userRole=t.role,this.userName=t.firstName,this.vechileService.getAll().pipe((0,r.P)()).subscribe(o=>{this.vechiles=o;for(let l=0;l<this.vechiles.length;l++)this.categories.findIndex(h=>h==this.vechiles[l].category)<=-1&&this.categories.push(this.vechiles[l].category)})})}onChange(t,o){this.vechileService.update(t,o).pipe((0,r.P)()).subscribe()}onChange2(){for(let t=0;t<this.vechIds.length;t++)this.vechileService.getByVechileId(this.vechIds[t]).pipe((0,r.P)()).subscribe(o=>{o.category=this.selectedCategory,this.vechileService.update(o.id,o).pipe((0,r.P)()).subscribe()})}assignCategories(){this.vechileService.getAll().pipe((0,r.P)()).subscribe(t=>this.vechiles=t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.HT),e.Y36(d.ez),e.Y36(u.BR),e.Y36(u.cY),e.Y36(g.F0),e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([d.ez,p.uU])],decls:17,vars:7,consts:[[1,"p-toolbar-group-left"],[3,"options","ngModel","ngModelChange","onChange"],[1,"text-danger",3,"click"],[1,"card"],["selectionMode","single","dataKey","id",1,"table","table-striped","table-hover",3,"value","selection","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],[3,"pSelectableRow"],["type","checkbox",3,"ngModel","name","id","ngModelChange"]],template:function(t,o){1&t&&(e.TgZ(0,"p-toolbar")(1,"div",0),e._uU(2,"\xa0 \xa0 \xa0 \xa0 "),e.TgZ(3,"label"),e._uU(4,"Assign category to groups"),e.qZA(),e._uU(5,"\xa0 \xa0 \xa0 \xa0 "),e.TgZ(6,"p-dropdown",1),e.NdJ("ngModelChange",function(l){return o.selectedCategory=l})("onChange",function(){return o.onChange2()}),e.qZA(),e._uU(7," \xa0 \xa0 \xa0 \xa0 "),e.TgZ(8,"a",2),e.NdJ("click",function(){return o.assignCategories()}),e._uU(9,"Update"),e.qZA(),e._uU(10),e.ALo(11,"json"),e.qZA()(),e.TgZ(12,"div",3)(13,"p-table",4,5),e.NdJ("selectionChange",function(l){return o.selectedVechile=l}),e.YNc(15,y,4,0,"ng-template",6),e.YNc(16,T,6,6,"ng-template",7),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("options",o.categories)("ngModel",o.selectedCategory),e.xp6(4),e.hij(" \xa0 \xa0 \xa0 \xa0 ",e.lcZ(11,5,o.values)," "),e.xp6(3),e.Q6J("value",o.vechiles)("selection",o.selectedVechile))},dependencies:[c.Wl,c.JJ,m.iA,d.jx,m.Ei,C.Lt,c.On,f.o,p.Ts],encapsulation:2}),n})()}]}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(Z),g.Bz]}),n})();var L=i(9483),S=i(9549),I=i(4144),J=i(3238),U=i(6308),N=i(5415),F=i(2453),Y=i(585),j=i(8177),B=i(5722),R=i(4076),b=i(1493),P=i(5593),V=i(8235),x=i(1740);let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,c.UX,M,L.FA,S.lN,I.c,J.XK,U.JX,N.T,m.U$,C.kW,F.EV,Y._8,j.JH,B.q4,R.vI,b.S,P.hJ,V.q,x.j,c.u5,f.V]}),n})()}}]);