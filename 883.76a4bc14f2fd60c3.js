(self.webpackChunkDistanceCalcFront=self.webpackChunkDistanceCalcFront||[]).push([[883],{1883:(x,S,a)=>{"use strict";a.r(S),a.d(S,{OrdersModule:()=>Vt});var g=a(4719),r=a(6895),u=a(5146),e=a(5062);let h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-1"],[1,"container"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"router-outlet"),e.qZA()())},dependencies:[u.lC],encapsulation:2}),n})();var p=a(7224);class k{}var d=a(9429),v=a(793),m=a(805),_=a(5593),f=a(1493),A=a(5722),C=a(666),T=a(1740),Z=a(1383);function I(n,o){1&n&&e._UZ(0,"span",26)}function O(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Delete"),e.qZA())}function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"table")(3,"tr",16),e._uU(4),e.qZA(),e.TgZ(5,"tr",16),e._uU(6),e.qZA(),e.TgZ(7,"tr",16),e._uU(8),e.qZA(),e.TgZ(9,"tr",16),e._uU(10),e.qZA()()(),e.TgZ(11,"td")(12,"table")(13,"tr",17)(14,"a",18),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.showEditBillingLoc(l.billingId))}),e._uU(15),e.qZA()(),e.TgZ(16,"tr",17)(17,"a",18),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.showEditBillingLoc(l.billingId))}),e._uU(18),e.qZA()(),e.TgZ(19,"tr",17)(20,"a",18),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.showEditBillingLoc(l.billingId))}),e._uU(21),e.qZA()()()(),e.TgZ(22,"td")(23,"table")(24,"tr",17)(25,"a",18),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.showTripStatus(l.billingId))}),e._uU(26),e.qZA()(),e.TgZ(27,"tr",19),e._uU(28),e.qZA(),e.TgZ(29,"tr",20),e._uU(30),e.qZA(),e.TgZ(31,"tr",20),e._uU(32),e.qZA(),e.TgZ(33,"tr",20),e._uU(34),e.qZA()()(),e.TgZ(35,"td")(36,"table")(37,"tr",16),e._uU(38),e.qZA(),e.TgZ(39,"tr",16),e._uU(40),e.qZA(),e.TgZ(41,"tr",16),e._uU(42),e.qZA()()(),e.TgZ(43,"td")(44,"table")(45,"tr",16),e._uU(46),e.qZA(),e.TgZ(47,"tr",16),e._uU(48),e.qZA()()(),e.TgZ(49,"td",21)(50,"button",22),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.openView(l.billingId))}),e._uU(51,"View"),e.qZA(),e.TgZ(52,"a",23),e._uU(53,"Edit"),e.qZA(),e.TgZ(54,"button",24),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteBilling(l.id))}),e.YNc(55,I,1,0,"span",25),e.YNc(56,O,2,0,"span",10),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.Oqu(i.selectOrder(t.billingId).vechileId),e.xp6(2),e.Oqu(i.selectVechile(i.selectOrder(t.billingId).vechileId).driverId),e.xp6(2),e.Oqu(i.selectVechile(i.selectOrder(t.billingId).vechileId).contactNumber),e.xp6(2),e.Oqu(t.company),e.xp6(5),e.Oqu(t.locationCountry),e.xp6(3),e.Oqu(t.locationState),e.xp6(3),e.Oqu(t.locationZip),e.xp6(5),e.Oqu(t.tripStatus),e.xp6(2),e.Oqu(t.tripStatusChangeTime1.substring(0,t.tripStatusChangeTime1.length-3)),e.xp6(2),e.Oqu(t.tripStatusChangeTime2.substring(0,t.tripStatusChangeTime2.length-3)),e.xp6(2),e.Oqu(t.manualDeliveryDateTime),e.xp6(2),e.Oqu(t.pod),e.xp6(4),e.Oqu(t.ref1),e.xp6(2),e.Oqu(t.ref2),e.xp6(2),e.Oqu(t.id),e.xp6(4),e.Oqu(t.minval),e.xp6(2),e.Oqu(t.maxval),e.xp6(4),e.MGl("routerLink","edit/",t.billingId,""),e.xp6(2),e.Q6J("disabled",t.isDeleting),e.xp6(1),e.Q6J("ngIf",t.isDeleting),e.xp6(1),e.Q6J("ngIf",!t.isDeleting)}}function D(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",27),e._UZ(2,"span",28),e.qZA()())}function q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"div")(3,"div"),e._uU(4,"LocationCity"),e.qZA(),e.TgZ(5,"input",31),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.locationCountry=s)}),e.qZA(),e.TgZ(6,"div"),e._uU(7,"LocationState"),e.qZA(),e.TgZ(8,"input",32),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.locationState=s)}),e.qZA(),e.TgZ(9,"div"),e._uU(10,"LocationZip"),e.qZA(),e.TgZ(11,"input",33),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.locationZip=s)}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.locationCountry),e.xp6(3),e.Q6J("ngModel",t.locationState),e.xp6(3),e.Q6J("ngModel",t.locationZip)}}function Q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.hideBillingLoc())}),e.qZA(),e.TgZ(1,"button",35),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.updateBillingLoc())}),e.qZA()}}function j(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",36)(2,"div")(3,"div"),e._uU(4,"Trip Status"),e.qZA(),e.TgZ(5,"p-dropdown",37),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.tripStatus=s)}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("options",t.tripstatuses)("ngModel",t.tripStatus)}}function z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.hideTripStatus())}),e.qZA(),e.TgZ(1,"button",35),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.updateTripStatus())}),e.qZA()}}function G(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Pick|Drop"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"State"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"City"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Address"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Zip"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Pieces"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Lbs"),e.qZA()())}function Y(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",42),e._uU(2),e.qZA(),e.TgZ(3,"td",16),e._uU(4),e.qZA(),e.TgZ(5,"td",16),e._uU(6),e.qZA(),e.TgZ(7,"td",16),e._uU(8),e.qZA(),e.TgZ(9,"td",16),e._uU(10),e.qZA(),e.TgZ(11,"td",16),e._uU(12),e.qZA(),e.TgZ(13,"td",16),e._uU(14),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.orderType),e.xp6(2),e.Oqu(t.state),e.xp6(2),e.Oqu(t.city),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.zip),e.xp6(2),e.Oqu(t.pieces),e.xp6(2),e.Oqu(t.lbs)}}function K(n,o){if(1&n&&(e.TgZ(0,"p-table",38,39),e.YNc(2,G,15,0,"ng-template",40),e.YNc(3,Y,15,7,"ng-template",41),e.qZA()),2&n){const t=e.oxw();e.Q6J("value",t.orders2)("rows",12)("paginator",!0)("rowHover",!0)("showCurrentPageReport",!0)}}function $(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.hideDialog())}),e.qZA()}}let W=(()=>{class n{constructor(t,i,s,l,c,b){this.orderService=t,this.billingService=i,this.vechileService=s,this.router=l,this.route=c,this.alertService=b,this.orders=null,this.orders2=null,this.orders3=null,this.orders4=null,this.billings=null,this.tripstatuses=["","Onroad Pickup","Arrived Pickup","Loaded","Onroute To Consignee","Arrived Consignee","Empty"],this.dispatchs=["","Dispatched","Planed","DryRun","Complete","Canceled"],this.selectedTripStatus="",this.selectedDispatch="",this.selectedVechileId=[],this.tempSelectedTripStatus="A,",this.tempSelectedDispatchStatus="A,",this.tempSelectedVechileId="A,",this.vechileIds=[],this.pickupdropDialog=!1,this.minmax=null,this.billingId="",this.billing=null,this.term="",this.vechile="",this.author="",this.billNote="",this.company="",this.billTo="",this.ref1="",this.ref2="",this.note="",this.orderId="",this.selVech="",this.selectedSelVech="",this.selectedTerm="",this.selectedAuthor="",this.tripStatusChangeTime1="",this.tripStatusChangeTime2="",this.manualDeliveryDateTime="",this.pod="",this.locationCountry="",this.locationState="",this.locationZip="",this.tripStatus=""}ngOnInit(){this.billingId=this.route.snapshot.params.billingId,this.orderService.getAll().pipe((0,p.P)()).subscribe(t=>{this.orders=t;for(let s=0;s<this.orders.length;s++)this.vechileIds.findIndex(l=>l.label==this.orders[s].category)<=-1&&this.vechileIds.push({label:this.orders[s].vechileId,value:this.orders[s].vechileId})}),this.billingService.getAll().pipe((0,p.P)()).subscribe(t=>{this.billings=t;for(let i=0;i<this.billings.length;i++)this.orderService.getMinMaxOrder(this.billings[i].billingId).subscribe(s=>this.billings[i].minval=s.minval),this.orderService.getMinMaxOrder(this.billings[i].billingId).subscribe(s=>this.billings[i].maxval=s.maxval)}),this.vechileService.getAll().pipe((0,p.P)()).subscribe(t=>this.vechiles=t)}hideBillingLoc(){this.editLocDialog=!1}hideTripStatus(){this.tripStatusDialog=!1}showEditBillingLoc(t){this.billingId=t,this.editLocDialog=!1,this.billingService.getByBillingId(this.billingId).pipe((0,p.P)()).subscribe(i=>{this.author=i.author,this.billNote=i.billNote,this.selectedSelVech=i.selVech,this.selectedTerm=i.term,this.selectedAuthor=i.author,this.company=i.company,this.billTo=i.billTo,this.ref1=i.ref1,this.ref2=i.ref2,this.note=i.note,this.selectedTripStatus=i.tripStatus,this.tripStatusChangeTime1=i.tripStatusChangeTime1,this.tripStatusChangeTime2=i.tripStatusChangeTime2,this.manualDeliveryDateTime=i.manualDeliveryDateTime,this.pod=i.pod,this.locationCountry=i.locationCountry,this.locationState=i.locationState,this.locationZip=i.locationZip,this.tripStatus=i.tripStatus}),this.editLocDialog=!0}showTripStatus(t){this.billingId=t,this.tripStatusDialog=!1,this.billingService.getByBillingId(this.billingId).pipe((0,p.P)()).subscribe(i=>{this.author=i.author,this.billNote=i.billNote,this.selectedSelVech=i.selVech,this.selectedTerm=i.term,this.selectedAuthor=i.author,this.company=i.company,this.billTo=i.billTo,this.ref1=i.ref1,this.ref2=i.ref2,this.note=i.note,this.selectedTripStatus=i.tripStatus,this.tripStatusChangeTime1=i.tripStatusChangeTime1,this.tripStatusChangeTime2=i.tripStatusChangeTime2,this.manualDeliveryDateTime=i.manualDeliveryDateTime,this.pod=i.pod,this.locationCountry=i.locationCountry,this.locationState=i.locationState,this.locationZip=i.locationZip,this.tripStatus=i.tripStatus}),this.tripStatusDialog=!0}updateBillingLoc(){this.prepareBilling(),this.billingService.getByBillingId(this.billing.billingId).pipe((0,p.P)()).subscribe(t=>{this.billing=t,this.billing.term=this.selectedTerm,this.billing.author=this.selectedAuthor,this.billing.billNote=this.billNote,this.billing.selVech=this.selectedSelVech,this.billing.company=this.company,this.billing.billTo=this.billTo,this.billing.ref1=this.ref1,this.billing.ref2=this.ref2,this.billing.note=this.note,this.billing.tripStatus=this.tripStatus,this.billing.tripStatusChangeTime1=this.tripStatusChangeTime1,this.billing.tripStatusChangeTime2=this.tripStatusChangeTime2,this.billing.manualDeliveryDateTime=this.manualDeliveryDateTime,this.billing.pod=this.pod,this.billing.locationCountry=this.locationCountry,this.billing.locationState=this.locationState,this.billing.locationZip=this.locationZip,this.billingService.update(this.billing.id,this.billing).pipe((0,p.P)()).subscribe(i=>{this.ngOnInit(),this.router.navigate(["orders"])},i=>{this.alertService.error(i)})}),this.hideBillingLoc()}updateTripStatus(){this.prepareBilling(),this.billingService.getByBillingId(this.billing.billingId).pipe((0,p.P)()).subscribe(t=>{this.billing=t,this.billing.term=this.selectedTerm,this.billing.author=this.selectedAuthor,this.billing.billNote=this.billNote,this.billing.selVech=this.selectedSelVech,this.billing.company=this.company,this.billing.billTo=this.billTo,this.billing.ref1=this.ref1,this.billing.ref2=this.ref2,this.billing.note=this.note,this.billing.tripStatus=this.tripStatus,this.billing.tripStatusChangeTime1=this.tripStatusChangeTime1,this.billing.tripStatusChangeTime2=this.tripStatusChangeTime2,this.billing.manualDeliveryDateTime=this.manualDeliveryDateTime,this.billing.pod=this.pod,this.billing.locationCountry=this.locationCountry,this.billing.locationState=this.locationState,this.billing.locationZip=this.locationZip,this.billingService.update(this.billing.id,this.billing).pipe((0,p.P)()).subscribe(i=>{this.ngOnInit(),this.router.navigate(["orders"])},i=>{this.alertService.error(i)})}),this.hideTripStatus()}prepareBilling(){this.billing=new k,this.billing.billingId=this.billingId,this.billing.term=this.selectedTerm,this.billing.author=this.selectedAuthor,this.billing.billNote=this.billNote,this.billing.selVech=this.selectedSelVech,this.billing.company=this.company,this.billing.billTo=this.billTo,this.billing.ref1=this.ref1,this.billing.ref2=this.ref2,this.billing.note=this.note,this.billing.tripStatus=this.selectedTripStatus,this.billing.tripStatusChangeTime1=this.tripStatusChangeTime1,this.billing.tripStatusChangeTime2=this.tripStatusChangeTime2,this.billing.manualDeliveryDateTime=this.manualDeliveryDateTime,this.billing.pod=this.pod,this.billing.locationCountry=this.locationCountry,this.billing.locationState=this.locationState,this.billing.locationZip=this.locationZip}clearFilterOrders(){this.selectedTripStatus="",this.selectedDispatch="",this.selectedVechileId="",this.tempSelectedBillingId="",this.tempSelectedDispatchStatus="",this.tempSelectedTripStatus="",this.tempSelectedVechileId="",this.orderService.getAll().pipe((0,p.P)()).subscribe(t=>this.orders=t),this.billingService.getAll().pipe((0,p.P)()).subscribe(t=>this.billings=t),this.vechileService.getAll().pipe((0,p.P)()).subscribe(t=>this.vechiles=t)}filterInitialize(){this.orderService.getAll().pipe((0,p.P)()).subscribe(t=>this.orders=t),this.billingService.getAll().pipe((0,p.P)()).subscribe(t=>this.billings=t),this.vechileService.getAll().pipe((0,p.P)()).subscribe(t=>this.vechiles=t)}filterByTripStatus(){this.billingService.getAll().pipe((0,p.P)()).subscribe(t=>{this.billings=t.filter(i=>-1!==this.selectedTripStatus.indexOf(i.tripStatus));for(let i=0;i<this.billings.length;i++)this.tempSelectedBillingId=this.tempSelectedBillingId+","+this.billings[i].billingId;this.orderService.getAll().pipe((0,p.P)()).subscribe(i=>this.orders=i.filter(s=>-1!==this.tempSelectedBillingId.indexOf(s.billingId)))})}filterByDispatchStatus(){this.vechileService.getAll().pipe((0,p.P)()).subscribe(t=>{this.vechiles=t.filter(i=>-1!==this.selectedDispatch.indexOf(i.dispatch));for(let i=0;i<this.vechiles.length;i++)this.tempSelectedVechileId=this.tempSelectedVechileId+","+this.vechiles[i].vechileId;this.orderService.getAll().pipe((0,p.P)()).subscribe(i=>this.orders=i.filter(s=>-1!==this.tempSelectedVechileId.indexOf(s.vechileId)))})}filterByVechileIdStatus(){this.orderService.getAll().pipe((0,p.P)()).subscribe(t=>this.orders=t.filter(i=>-1!==this.selectedVechileId.indexOf(i.vechileId)))}getDispatchStatusColor(t){switch(t){case"Dispatched":return"Red";case"Planed":return"Blue";case"DryRun":return"Pink";case"Complete":return"Green";case"Canceled":return"Gray";default:return"Yellow"}}filterOrders(){this.selectedTripStatus.length<1&&this.selectedDispatch.length<1&&this.selectedVechileId.length<1?this.filterInitialize():this.selectedTripStatus.length>=1&&this.selectedDispatch.length>=1&&this.selectedVechileId.length<1?(this.filterByTripStatus(),this.filterByDispatchStatus()):this.selectedTripStatus.length>=1&&this.selectedDispatch.length<1&&this.selectedVechileId.length>=1?(this.filterByTripStatus(),this.filterByVechileIdStatus()):this.selectedTripStatus.length<1&&this.selectedDispatch.length>=1&&this.selectedVechileId.length>=1?(this.filterByDispatchStatus(),this.filterByVechileIdStatus()):this.selectedTripStatus.length>=1&&this.selectedDispatch.length>=1&&this.selectedVechileId.length>=1?(this.filterByTripStatus(),this.filterByDispatchStatus(),this.filterByVechileIdStatus()):this.selectedTripStatus.length>=1&&this.selectedDispatch.length<1&&this.selectedVechileId.length<1?this.filterByTripStatus():this.selectedTripStatus.length<1&&this.selectedDispatch.length>=1&&this.selectedVechileId.length<1?this.filterByDispatchStatus():this.selectedTripStatus.length<1&&this.selectedDispatch.length<1&&this.selectedVechileId.length>=1&&this.filterByVechileIdStatus()}selectBilling(t){return this.billings.find(s=>s.billingId===t)||""}selectVechile(t){return this.vechiles.find(s=>s.vechileId===t)}selectOrder(t){return this.orders.find(s=>s.billingId===t)}deleteOrder(t){this.orders.find(s=>s.id===t).isDeleting=!0,this.orderService.delete(t).pipe((0,p.P)()).subscribe(()=>{this.orders=this.orders.filter(s=>s.id!==t)})}deleteBilling(t){this.billings.find(s=>s.id===t).isDeleting=!0,this.billingService.delete(t).pipe((0,p.P)()).subscribe(()=>{this.billings=this.billings.filter(s=>s.id!==t)})}openView(t){this.orderService.getByBillingId(t).pipe((0,p.P)()).subscribe(i=>this.orders2=i),this.pickupdropDialog=!0}hideDialog(){this.pickupdropDialog=!1}getFirstPickup(t){return this.orderService.getMinMaxOrder(t).subscribe(i=>this.minmax=i),this.minmax.minval}getLastDrop(t){return this.orderService.getMinMaxOrder(t).subscribe(i=>this.minmax=i),this.minmax.maxval}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.px),e.Y36(d.jM),e.Y36(d.HT),e.Y36(u.F0),e.Y36(u.gz),e.Y36(d.c9))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:83,vars:14,consts:[[1,"p-toolbar-group-left"],["defaultLabel","Trip Status",3,"options","ngModel","ngModelChange"],["defaultLabel","Dispatch Status",3,"options","ngModel","ngModelChange"],["defaultLabel","Vechile ID",3,"options","ngModel","ngModelChange"],[1,"text-danger",3,"click"],[1,"p-toolbar-group-right"],["routerLink","map",1,"btn","btn-sm","btn-success","mb-2"],["routerLink","add",1,"btn","btn-sm","btn-success","mb-2"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","editLocDialog","header","Edit Location","widgetVar","editLocDialog","position","center center","styleClass","p-fluid",2,"width","500px","height","1200px",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["id","tripStatusDialog","header","Edit TripStatus","widgetVar","tripStatusDialog","position","center center","styleClass","p-fluid",2,"width","500px","height","1200px",3,"visible","modal","visibleChange"],["id","pickupdropDialog","header","Pickup Or Drop Details","widgetVar","pickupdropDialog","position","center center","styleClass","p-fluid",2,"width","400px","height","800px",3,"visible","modal","visibleChange"],[2,"color","green"],[2,"color","maroon"],[1,"text-danger",2,"text-decoration","underline",3,"click"],[2,"color","green","font-weight","bold"],[2,"color","red","font-weight","bold"],[2,"white-space","nowrap"],[1,"btn","btn-sm","btn-info","mr-1",3,"click"],[1,"btn","btn-sm","btn-info","mr-1",3,"routerLink"],[1,"btn","btn-sm","btn-danger","btn-delete-order",3,"disabled","click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"],[1,"flex-container"],[1,"flex-container-billing"],["type","text","pInputText","","id","locationCountry",3,"ngModel","ngModelChange"],["type","text","pInputText","","id","locationState",3,"ngModel","ngModelChange"],["type","text","pInputText","","id","locationZip",3,"ngModel","ngModelChange"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],[1,"flex-container-billing",2,"height","300px"],["id","tripStatus",3,"options","ngModel","ngModelChange"],["dataKey","id",3,"value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],[2,"color","blue","font-weight","bold"]],template:function(t,i){1&t&&(e.TgZ(0,"h1"),e._uU(1,"Orders"),e.qZA(),e.TgZ(2,"p-toolbar")(3,"div",0),e._uU(4,"\xa0 \xa0 \xa0 \xa0 "),e.TgZ(5,"p-multiSelect",1),e.NdJ("ngModelChange",function(l){return i.selectedTripStatus=l}),e.qZA(),e._uU(6," \xa0 \xa0 \xa0 \xa0 "),e.TgZ(7,"p-multiSelect",2),e.NdJ("ngModelChange",function(l){return i.selectedDispatch=l}),e.qZA(),e._uU(8," \xa0 \xa0 \xa0 \xa0 "),e.TgZ(9,"p-multiSelect",3),e.NdJ("ngModelChange",function(l){return i.selectedVechileId=l}),e.qZA(),e._uU(10," \xa0 \xa0 \xa0 \xa0 "),e.TgZ(11,"a",4),e.NdJ("click",function(){return i.filterOrders()}),e._uU(12,"Filter"),e.qZA(),e._uU(13,"\xa0 \xa0 \xa0 "),e.TgZ(14,"a",4),e.NdJ("click",function(){return i.clearFilterOrders()}),e._uU(15,"Clear"),e.qZA()(),e.TgZ(16,"div",5)(17,"a",6),e._uU(18,"Map"),e.qZA(),e._uU(19,"\xa0 \xa0 "),e.TgZ(20,"a",7),e._uU(21,"Add order"),e.qZA()()(),e._UZ(22,"br")(23,"br"),e.TgZ(24,"table",8)(25,"thead")(26,"tr")(27,"th")(28,"table")(29,"tr"),e._uU(30,"VechileId"),e.qZA(),e.TgZ(31,"tr"),e._uU(32,"DriverId"),e.qZA(),e.TgZ(33,"tr"),e._uU(34,"ContactNumber"),e.qZA(),e.TgZ(35,"tr"),e._uU(36,"Company"),e.qZA()()(),e.TgZ(37,"th")(38,"table")(39,"tr"),e._uU(40,"LocationCity"),e.qZA(),e.TgZ(41,"tr"),e._uU(42,"LocationState"),e.qZA(),e.TgZ(43,"tr"),e._uU(44,"LocationZip"),e.qZA()()(),e.TgZ(45,"th")(46,"table")(47,"tr"),e._uU(48,"TripStatus"),e.qZA(),e.TgZ(49,"tr"),e._uU(50,"TripStatusChangeTime1"),e.qZA(),e.TgZ(51,"tr"),e._uU(52,"TripStatusChangeTime2"),e.qZA(),e.TgZ(53,"tr"),e._uU(54,"ManualDeliveryDate"),e.qZA(),e.TgZ(55,"tr"),e._uU(56,"POD"),e.qZA()()(),e.TgZ(57,"th")(58,"table")(59,"tr"),e._uU(60,"Ref1"),e.qZA(),e.TgZ(61,"tr"),e._uU(62,"Ref2"),e.qZA(),e.TgZ(63,"tr"),e._uU(64,"Note"),e.qZA()()(),e.TgZ(65,"th")(66,"table")(67,"tr"),e._uU(68,"FirstPickupCity"),e.qZA(),e.TgZ(69,"tr"),e._uU(70,"LastDropCity"),e.qZA()()()()(),e.TgZ(71,"tbody"),e.YNc(72,E,57,21,"tr",9),e.YNc(73,D,3,0,"tr",10),e.qZA()(),e.TgZ(74,"p-dialog",11),e.NdJ("visibleChange",function(l){return i.editLocDialog=l}),e.YNc(75,q,12,3,"ng-template",12),e.YNc(76,Q,2,0,"ng-template",13),e.qZA(),e.TgZ(77,"p-dialog",14),e.NdJ("visibleChange",function(l){return i.tripStatusDialog=l}),e.YNc(78,j,6,2,"ng-template",12),e.YNc(79,z,2,0,"ng-template",13),e.qZA(),e.TgZ(80,"p-dialog",15),e.NdJ("visibleChange",function(l){return i.pickupdropDialog=l}),e.YNc(81,K,4,5,"ng-template",12),e.YNc(82,$,1,0,"ng-template",13),e.qZA()),2&t&&(e.xp6(5),e.Q6J("options",i.tripstatuses)("ngModel",i.selectedTripStatus),e.xp6(2),e.Q6J("options",i.dispatchs)("ngModel",i.selectedDispatch),e.xp6(2),e.Q6J("options",i.vechileIds)("ngModel",i.selectedVechileId),e.xp6(63),e.Q6J("ngForOf",i.billings),e.xp6(1),e.Q6J("ngIf",!i.billings),e.xp6(1),e.Q6J("visible",i.editLocDialog)("modal",!0),e.xp6(3),e.Q6J("visible",i.tripStatusDialog)("modal",!0),e.xp6(3),e.Q6J("visible",i.pickupdropDialog)("modal",!0))},dependencies:[v.iA,m.jx,r.sg,r.O5,g.Fj,g.JJ,u.yS,_.Hq,f.V,A.NU,C.Lt,T.o,Z.o,g.On],encapsulation:2}),n})();class X{}var ee=a(9444),N=a(2453),y=a(7340),M=a(9592),F=a(982),L=a(1795);const te=["content"];function ie(n,o){1&n&&e.GkF(0)}function ne(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,ie,1,0,"ng-container",11),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function se(n,o){if(1&n&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Oqu(t.option("header"))}}const le=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(s){e.CHM(t);const l=e.oxw(4);return e.KtG(l.close(s))})("keydown.enter",function(s){e.CHM(t);const l=e.oxw(4);return e.KtG(l.close(s))}),e._UZ(1,"span",17),e.qZA()}2&n&&e.Q6J("ngClass",e.DdM(1,le))}function ae(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,se,2,1,"span",12),e.TgZ(2,"div",13),e.YNc(3,oe,2,2,"button",14),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.option("header")),e.xp6(2),e.Q6J("ngIf",t.closable)}}function re(n,o){if(1&n&&e._UZ(0,"i",1),2&n){const t=e.oxw(3);e.Tol(t.option("icon")),e.Q6J("ngClass","p-confirm-dialog-icon")}}function ce(n,o){1&n&&e.GkF(0)}function pe(n,o){if(1&n&&(e.TgZ(0,"div",18),e.Hsn(1),e.YNc(2,ce,1,0,"ng-container",11),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}function de(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.reject())}),e.qZA()}if(2&n){const t=e.oxw(4);e.Tol(t.option("rejectButtonStyleClass")),e.Q6J("icon",t.option("rejectIcon"))("label",t.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),e.uIk("aria-label",t.rejectAriaLabel)}}function he(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.accept())}),e.qZA()}if(2&n){const t=e.oxw(4);e.Tol(t.option("acceptButtonStyleClass")),e.Q6J("icon",t.option("acceptIcon"))("label",t.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),e.uIk("aria-label",t.acceptAriaLabel)}}function ue(n,o){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,de,1,6,"button",19),e.YNc(2,he,1,6,"button",19),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.option("rejectVisible")),e.xp6(1),e.Q6J("ngIf",t.option("acceptVisible"))}}const ge=function(n){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":n}},me=function(n,o){return{transform:n,transition:o}},_e=function(n){return{value:"visible",params:n}};function fe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("@animation.start",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onAnimationStart(s))})("@animation.done",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onAnimationEnd(s))}),e.YNc(1,ne,2,1,"div",4),e.YNc(2,ae,4,2,"div",4),e.TgZ(3,"div",5,6),e.YNc(5,re,1,3,"i",7),e._UZ(6,"span",8),e.qZA(),e.YNc(7,pe,3,1,"div",9),e.YNc(8,ue,3,2,"div",9),e.qZA()}if(2&n){const t=e.oxw(2);e.Tol(t.styleClass),e.Q6J("ngClass",e.VKq(11,ge,t.rtl))("ngStyle",t.style)("@animation",e.VKq(16,_e,e.WLB(13,me,t.transformOptions,t.transitionOptions))),e.xp6(1),e.Q6J("ngIf",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",!t.headerTemplate),e.xp6(3),e.Q6J("ngIf",t.option("icon")),e.xp6(1),e.Q6J("innerHTML",t.option("message"),e.oJD),e.xp6(1),e.Q6J("ngIf",t.footer||t.footerTemplate),e.xp6(1),e.Q6J("ngIf",!t.footer&&!t.footerTemplate)}}function be(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,fe,9,18,"div",2),e.qZA()),2&n){const t=e.oxw();e.Tol(t.maskStyleClass),e.Q6J("ngClass",t.getMaskClass()),e.xp6(1),e.Q6J("ngIf",t.visible)}}const ve=[[["p-footer"]]],Ce=["p-footer"],Te=(0,y.oQ)([(0,y.oB)({transform:"{{transform}}",opacity:0}),(0,y.jt)("{{transition}}",(0,y.oB)({transform:"none",opacity:1}))]),ye=(0,y.oQ)([(0,y.jt)("{{transition}}",(0,y.oB)({transform:"{{transform}}",opacity:0}))]);let xe=(()=>{class n{constructor(t,i,s,l,c,b){this.el=t,this.renderer=i,this.confirmationService=s,this.zone=l,this.cd=c,this.config=b,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new e.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=(0,F.Th)(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(w=>{w?w.key===this.key&&(this.confirmation=w,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:this.confirmation.rejectVisible??this.rejectVisible,acceptVisible:this.confirmation.acceptVisible??this.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(t){switch(this._position=t,t){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(t){const i=this.confirmationOptions||this;if(i.hasOwnProperty(t))return i[t]}onAnimationStart(t){if("visible"===t.toState){this.container=t.element,this.wrapper=this.container.parentElement,this.contentContainer=M.p.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const i=this.getElementToFocus();i&&i.focus()}}onAnimationEnd(t){"void"===t.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return M.p.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return M.p.findSingle(this.container,".p-confirm-dialog-reject");case"close":return M.p.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):M.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&M.p.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&M.p.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let i in this.breakpoints)t+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}close(t){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(m.wB.CANCEL),this.hide(m.wB.CANCEL),t.preventDefault()}hide(t){this.onHide.emit(t),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(F.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let t={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return t[this.getPositionClass().toString()]=!0,t}getPositionClass(){const i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(s=>s===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{if(27==i.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===F.P9.get(this.container)&&this.visible&&this.close(i),9===i.which&&this.focusTrap){i.preventDefault();let s=M.p.getFocusableElements(this.container);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let l=s.indexOf(s[0].ownerDocument.activeElement);i.shiftKey?-1==l||0===l?s[s.length-1].focus():s[l-1].focus():-1==l||l===s.length-1?s[0].focus():s[l+1].focus()}else s[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&F.P9.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(m.wB.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(m.wB.REJECT),this.hide(m.wB.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(m.ws.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(m.ws.REJECT)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(m.YP),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(m.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-confirmDialog"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,m.$_,5),e.Suo(s,m.jx,4)),2&t){let l;e.iGM(l=e.CRH())&&(i.footer=l.first),e.iGM(l=e.CRH())&&(i.templates=l)}},viewQuery:function(t,i){if(1&t&&e.Gf(te,5),2&t){let s;e.iGM(s=e.CRH())&&(i.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:Ce,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(t,i){1&t&&(e.F$t(ve),e.YNc(0,be,2,4,"div",0)),2&t&&e.Q6J("ngIf",i.maskVisible)},dependencies:[r.mk,r.O5,r.tP,r.PC,_.Hq,L.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,y.X$)("animation",[(0,y.eR)("void => visible",[(0,y._7)(Te)]),(0,y.eR)("visible => void",[(0,y._7)(ye)])])]},changeDetection:0}),n})(),Se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez,_.hJ,L.T,_.hJ,m.m8]}),n})();function Ze(n,o){1&n&&(e.TgZ(0,"h1"),e._uU(1,"Add Order"),e.qZA())}function Me(n,o){1&n&&(e.TgZ(0,"h1"),e._uU(1,"Edit Order"),e.qZA())}function Ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openNew())}),e.qZA()()}}function Ie(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Pick|Drop"),e.qZA(),e.TgZ(3,"th")(4,"table")(5,"tr"),e._uU(6,"OrderId"),e.qZA(),e.TgZ(7,"tr"),e._uU(8,"State"),e.qZA(),e.TgZ(9,"tr"),e._uU(10,"Address"),e.qZA(),e.TgZ(11,"tr"),e._uU(12,"City"),e.qZA()()(),e.TgZ(13,"th")(14,"table")(15,"tr"),e._uU(16,"Zip"),e.qZA(),e.TgZ(17,"tr"),e._uU(18,"Company"),e.qZA(),e.TgZ(19,"tr"),e._uU(20,"Verb"),e.qZA(),e.TgZ(21,"tr"),e._uU(22,"Lbs"),e.qZA()()(),e.TgZ(23,"th")(24,"table")(25,"tr"),e._uU(26,"Pieces"),e.qZA(),e.TgZ(27,"tr"),e._uU(28,"DateTime"),e.qZA(),e.TgZ(29,"tr"),e._uU(30,"Phone"),e.qZA(),e.TgZ(31,"tr"),e._uU(32,"VechileId"),e.qZA()()(),e.TgZ(33,"th")(34,"table")(35,"tr"),e._uU(36,"DriverName"),e.qZA(),e.TgZ(37,"tr"),e._uU(38,"Dispatch Status"),e.qZA()()()())}function we(n,o){1&n&&e._UZ(0,"span",31)}function ke(n,o){1&n&&e._UZ(0,"span")}function Ee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",24),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"table")(5,"tr",25),e._uU(6),e.qZA(),e.TgZ(7,"tr",25),e._uU(8),e.qZA(),e.TgZ(9,"tr",25),e._uU(10),e.qZA(),e.TgZ(11,"tr",25),e._uU(12),e.qZA()()(),e.TgZ(13,"td")(14,"table")(15,"tr",26),e._uU(16),e.qZA(),e.TgZ(17,"tr",26),e._uU(18),e.qZA(),e.TgZ(19,"tr",26),e._uU(20),e.qZA(),e.TgZ(21,"tr",26),e._uU(22),e.qZA()()(),e.TgZ(23,"td")(24,"table")(25,"tr",25),e._uU(26),e.qZA(),e.TgZ(27,"tr",25),e._uU(28),e.qZA(),e.TgZ(29,"tr",25),e._uU(30),e.qZA(),e.TgZ(31,"tr",25),e._uU(32),e.qZA()()(),e.TgZ(33,"td")(34,"table")(35,"tr",27)(36,"td"),e._uU(37),e.qZA()(),e.TgZ(38,"tr",27)(39,"td"),e._uU(40),e.qZA()()()(),e.TgZ(41,"td")(42,"button",28),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editPickupDrop(l.id))}),e.qZA(),e.TgZ(43,"button",29),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deletePickupDrop(l.id))}),e.YNc(44,we,1,0,"span",30),e.YNc(45,ke,1,0,"span",0),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.orderType),e.xp6(4),e.Oqu(t.id),e.xp6(2),e.Oqu(t.state),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.city),e.xp6(4),e.Oqu(t.zip),e.xp6(2),e.Oqu(t.company),e.xp6(2),e.Oqu(t.statusVerb),e.xp6(2),e.Oqu(t.lbs),e.xp6(4),e.Oqu(t.pieces),e.xp6(2),e.Oqu(t.datTime.substring(0,16)),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.vechileId),e.xp6(5),e.Oqu(i.selectDriverName(t.vechileId)),e.xp6(3),e.Oqu(i.selectVechileByVechId(t.vechileId).dispatch),e.xp6(3),e.Q6J("disabled",t.isDeleting),e.xp6(1),e.Q6J("ngIf",t.isDeleting),e.xp6(1),e.Q6J("ngIf",!t.isDeleting)}}function De(n,o){}function qe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cancelBilling())}),e.qZA(),e.TgZ(1,"button",33),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveBilling())}),e.qZA()}}function Ue(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"div")(2,"p-dropdown",35),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedPickup=s)}),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",36)(5,"div",37)(6,"button",38),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openSelectVechileDialog())}),e.qZA()(),e.TgZ(7,"div",37)(8,"input",39),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.oVechileId=s)}),e.qZA()(),e.TgZ(9,"div",37)(10,"p-dropdown",40),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedDispatch=s)}),e.qZA()()(),e.TgZ(11,"div",36)(12,"div",37)(13,"label",41),e._uU(14,"Company"),e.qZA(),e.TgZ(15,"input",42),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.oCompany=s)}),e.qZA()(),e.TgZ(16,"div",37)(17,"label",43),e._uU(18,"Address"),e.qZA(),e.TgZ(19,"input",44),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.oAddress=s)}),e.qZA()()(),e.TgZ(20,"div",36)(21,"div",37)(22,"label",45),e._uU(23,"City"),e.qZA(),e.TgZ(24,"input",46),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.oCity=s)}),e.qZA()(),e.TgZ(25,"div",37)(26,"label",47),e._uU(27,"Phone"),e.qZA(),e.TgZ(28,"input",48),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.oPhone=s)}),e.qZA()()(),e.TgZ(29,"div",36)(30,"div",37)(31,"label",49),e._uU(32,"State"),e.qZA(),e.TgZ(33,"input",50),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.oState=s)}),e.qZA()(),e.TgZ(34,"div",37)(35,"label",51),e._uU(36,"Zip"),e.qZA(),e.TgZ(37,"input",52),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.oZip=s)}),e.qZA()()(),e.TgZ(38,"div",36)(39,"div",37),e._UZ(40,"br"),e.TgZ(41,"label",53),e._uU(42,"DateTime"),e.qZA(),e.TgZ(43,"input",54),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.pickdropDate=s)}),e.qZA(),e.TgZ(44,"input",55),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.pickdropTime=s)}),e.qZA()(),e.TgZ(45,"div",37)(46,"label",56),e._uU(47,"StatusVerb"),e.qZA(),e.TgZ(48,"input",57),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.oStatusVerb=s)}),e.qZA()()(),e.TgZ(49,"div",36)(50,"div",37)(51,"label",58),e._uU(52,"Pieces"),e.qZA(),e.TgZ(53,"input",59),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.oPieces=s)}),e.qZA()(),e.TgZ(54,"div",37)(55,"label",60),e._uU(56,"Lbs"),e.qZA(),e.TgZ(57,"input",61),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.oLbs=s)}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("options",t.pickups)("ngModel",t.selectedPickup),e.xp6(6),e.Q6J("ngModel",t.oVechileId),e.xp6(2),e.Q6J("options",t.dispatchs)("ngModel",t.selectedDispatch),e.xp6(5),e.Q6J("ngModel",t.oCompany),e.xp6(4),e.Q6J("ngModel",t.oAddress),e.xp6(5),e.Q6J("ngModel",t.oCity),e.xp6(4),e.Q6J("ngModel",t.oPhone),e.xp6(5),e.Q6J("ngModel",t.oState),e.xp6(4),e.Q6J("ngModel",t.oZip),e.xp6(6),e.Q6J("ngModel",t.pickdropDate),e.xp6(1),e.Q6J("ngModel",t.pickdropTime),e.xp6(4),e.Q6J("ngModel",t.oStatusVerb),e.xp6(5),e.Q6J("ngModel",t.oPieces),e.xp6(4),e.Q6J("ngModel",t.oLbs)}}function Oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.hideDialog())}),e.qZA(),e.TgZ(1,"button",63),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createPickupDrop())}),e.qZA()}}function Fe(n,o){1&n&&(e.TgZ(0,"tr")(1,"th",65),e._uU(2,"Dispatch"),e.qZA(),e.TgZ(3,"th",65),e._uU(4,"Category"),e.qZA(),e.TgZ(5,"th",65),e._uU(6,"Vehicle Id"),e.qZA(),e.TgZ(7,"th",65),e._uU(8,"Driver Id"),e.qZA(),e.TgZ(9,"th",65),e._uU(10,"Contact Number"),e.qZA(),e.TgZ(11,"th",65),e._uU(12,"Location"),e.qZA(),e.TgZ(13,"th",65),e._uU(14,"Vehicle Type"),e.qZA(),e.TgZ(15,"th",65),e._uU(16,"Dimensions"),e.qZA(),e.TgZ(17,"th",65),e._uU(18,"Payload"),e.qZA(),e.TgZ(19,"th",65),e._uU(20,"AvailableNote"),e.qZA(),e.TgZ(21,"th",65),e._uU(22,"DateTime"),e.qZA(),e.TgZ(23,"th",65),e._uU(24,"Actions"),e.qZA()())}function Le(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",66)(1,"td",67),e._uU(2),e.qZA(),e.TgZ(3,"td",67),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25),e._uU(10),e.qZA(),e.TgZ(11,"td",25),e._uU(12),e.qZA(),e.TgZ(13,"td",25),e._uU(14),e.qZA(),e.TgZ(15,"td",25),e._uU(16),e.qZA(),e.TgZ(17,"td",25),e._uU(18),e.qZA(),e.TgZ(19,"td",25),e._uU(20),e.qZA(),e.TgZ(21,"td",25),e._uU(22),e.qZA(),e.TgZ(23,"td",68)(24,"button",69),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.selectVechile(l.id))}),e._uU(25,"Select"),e.qZA()()()}if(2&n){const t=o.$implicit;e.Q6J("pSelectableRow",t)("pSelectableRowDblClick",t),e.xp6(2),e.Oqu(t.dispatch),e.xp6(2),e.Oqu(t.category),e.xp6(2),e.Oqu(t.vechileId),e.xp6(2),e.Oqu(t.driverId),e.xp6(2),e.Oqu(t.contactNumber),e.xp6(2),e.Oqu(t.location),e.xp6(2),e.Oqu(t.vechileType),e.xp6(2),e.Oqu(t.dimensions),e.xp6(2),e.Oqu(t.payload),e.xp6(2),e.Oqu(t.availableNote),e.xp6(2),e.Oqu(t.locationDateTime)}}function Ve(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"p-table",64,11),e.NdJ("selectionChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedVechile=s)}),e.YNc(3,Fe,25,0,"ng-template",13),e.YNc(4,Le,26,13,"ng-template",14),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("value",t.vechiles)("selection",t.selectedVechile)("filterDelay",0)}}function Be(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.hideVechilesDialog())}),e.qZA()}}const Ne=function(){return{width:"450px"}};let J=(()=>{class n{constructor(t,i,s,l,c,b,w){this.orderService=t,this.billingService=i,this.vechileService=s,this.driverService=l,this.router=c,this.route=b,this.alertService=w,this.vechileId="",this.vechileType="",this.driverName="Anzori",this.isPickupAddMode=!0,this.isOrderAddMode=!0,this.loading=!1,this.orders=null,this.order=null,this.billings=null,this.billing=null,this.drivers=null,this.driver=null,this.terms=["Pre-paid (first shipper)","Collect (last consignee)","3rd Party (select)"],this.authors=["Shipper (first shipper)","Consignee (last consignee)","3rd Party (bill to party)","Logistics (select)","Other"],this.selVechs=["SPRINTER VAN","SMALL STRAIGHT","LARGE STRAIGHT","TRACTOR","FLATBED"],this.pickups=["Pickup","Drop"],this.tripstatuses=["Onroad Pickup","Arrived Pickup","Loaded","Onroute To Consignee","Arrived Consignee","Empty"],this.dispatchs=["Dispatched","Planed","DryRun","Complete","Canceled"],this.selectedTerm="Pre-paid (first shipper)",this.selectedAuthor="Shipper (first shipper)",this.selectedSelVech="SPRINTER VAN",this.selectedDispatch="",this.selectedVechileId="1",this.selectedPickup="Pickup",this.selectedTripStatus="Onroad Pickup",this.term="",this.vechile="",this.author="",this.billNote="",this.company="",this.billTo="",this.ref1="",this.ref2="",this.note="",this.orderId="",this.billingId="",this.tripStatusChangeTime1="",this.tripStatusChangeTime2="",this.manualDate="",this.manualTime="",this.pod="",this.locationCountry="",this.locationState="",this.locationZip="",this.oBillingId="",this.oAddress="",this.oCity="",this.oCompany="",this.oLbs="",this.oOrderType="",this.oPhone="",this.oPieces="",this.oRef1="",this.oRef2="",this.oState="",this.oStatusVerb="",this.oZip="",this.oVechileId="",this.pickdropDate="",this.pickdropTime=""}ngOnInit(){this.billingId=this.route.snapshot.params.billingId,this.isOrderAddMode=!this.billingId,this.vechileService.getAll().pipe((0,p.P)()).subscribe(t=>this.vechiles=t),this.driverService.getAll().pipe((0,p.P)()).subscribe(t=>this.drivers=t),this.isOrderAddMode?(this.prepareOrder(),this.orders=null,this.billingId=(0,ee.v4)()):(this.orderService.getAll().pipe((0,p.P)()).subscribe(t=>this.orders=t.filter(i=>i.billingId==this.billingId)),this.billingService.getByBillingId(this.billingId).pipe((0,p.P)()).subscribe(t=>{this.author=t.author,this.billNote=t.billNote,this.selectedSelVech=t.selVech,this.selectedTerm=t.term,this.selectedAuthor=t.author,this.company=t.company,this.billTo=t.billTo,this.ref1=t.ref1,this.ref2=t.ref2,this.note=t.note,this.selectedTripStatus=t.tripStatus,this.tripStatusChangeTime1=t.tripStatusChangeTime1,this.tripStatusChangeTime2=t.tripStatusChangeTime2,this.manualDate=t.manualDeliveryDateTime.substr(0,10),this.manualTime=t.manualDeliveryDateTime.substr(11,5),this.pod=t.pod,this.locationCountry=t.locationCountry,this.locationState=t.locationState,this.locationZip=t.locationZip}),this.company=this.billings.company)}createPickupDrop(){this.isPickupAddMode?(this.prepareOrder(),this.orderService.register(this.order).pipe((0,p.P)()).subscribe(t=>{const i=this.vechiles.find(s=>s.vechileId===this.oVechileId);"Dispatched"==this.selectedDispatch&&(i.licenceState=this.oState,i.location=this.oZip,i.status="Under Load"),i.dispatch=this.selectedDispatch,this.updateVechile(i),this.alertService.success("Order added successfully"),this.hideDialog(),this.orderService.getAll().pipe((0,p.P)()).subscribe(s=>this.orders=s.filter(l=>l.billingId==this.billingId)),this.router.navigate(this.isOrderAddMode?["orders/add"]:["orders/edit/"+this.order.billingId])},t=>{this.alertService.error(t),this.loading=!1})):(this.prepareOrder(),this.orderService.update(this.orderId,this.order).pipe((0,p.P)()).subscribe(t=>{const i=this.vechiles.find(s=>s.vechileId===this.oVechileId);"Dispatched"==this.selectedDispatch&&(i.licenceState=this.oState,i.location=this.oZip,i.status="Under Load"),i.dispatch=this.selectedDispatch,this.updateVechile(i),this.alertService.success("Update successful",{keepAfterRouteChange:!0}),this.hideDialog(),this.orderService.getAll().pipe((0,p.P)()).subscribe(s=>this.orders=s.filter(l=>l.billingId==this.billingId)),this.router.navigate(this.isOrderAddMode?["orders/add"]:["orders/edit/"+this.order.billingId])},t=>{this.alertService.error(t),this.loading=!1}))}updateVechile(t){this.vechileService.update(t.id,t).pipe((0,p.P)()).subscribe(i=>{this.alertService.success("Update Vechile Successful",{keepAfterRouteChange:!0})},i=>{this.alertService.error(i),this.loading=!1})}deletePickupDrop(t){1==confirm("Are you sure you want to delete?")&&(this.orders.find(l=>l.id===t).isDeleting=!0,this.orderService.delete(t).pipe((0,p.P)()).subscribe(()=>{this.orders=this.orders.filter(l=>l.id!==t)}))}hideDialog(){this.pickupdropDialog=!1}prepareOrder(){this.order=new X,this.order.billingId=this.billingId,this.order.address=this.oAddress,this.order.city=this.oCity,this.order.company=this.oCompany,this.order.datTime=this.pickdropDate+" "+this.pickdropTime,this.order.lbs=this.oLbs,this.order.orderType=this.selectedPickup,this.order.vechileId=this.oVechileId,this.order.phone=this.oPhone,this.order.pieces=this.oPieces,this.order.ref1=this.oRef1,this.order.ref2=this.oRef2,this.order.state=this.oState,this.order.statusVerb=this.oStatusVerb,this.order.zip=this.oZip}prepareBilling(){this.billing=new k,this.billing.billingId=this.billingId,this.billing.term=this.selectedTerm,this.billing.author=this.selectedAuthor,this.billing.billNote=this.billNote,this.billing.selVech=this.selectedSelVech,this.billing.company=this.company,this.billing.billTo=this.billTo,this.billing.ref1=this.ref1,this.billing.ref2=this.ref2,this.billing.note=this.note,this.billing.tripStatus=this.selectedTripStatus,this.billing.tripStatusChangeTime1=this.tripStatusChangeTime1,this.billing.tripStatusChangeTime2=this.tripStatusChangeTime2,this.billing.manualDeliveryDateTime=this.manualDate+" "+this.manualTime,this.billing.pod=this.pod,this.billing.locationCountry=this.locationCountry,this.billing.locationState=this.locationState,this.billing.locationZip=this.locationZip}editPickupDrop(t){this.orderId=t,this.isPickupAddMode=!1,this.orderService.getById(this.orderId).pipe((0,p.P)()).subscribe(i=>{this.orderId=i.id,this.oVechileId=i.vechileId,this.oCompany=i.company,this.oAddress=i.address,this.oCity=i.city,this.oPhone=i.phone,this.oState=i.state,this.oZip=i.zip,this.oStatusVerb=i.statusVerb,this.pickdropDate=i.datTime.substr(0,10),this.pickdropTime=i.datTime.substr(11,5),this.oPieces=i.pieces,this.oLbs=i.lbs,this.oRef1=i.ref1,this.oRef2=i.ref2,this.oOrderType=i.orderType,this.oBillingId=i.billingId,this.oVechileId=i.vechileId,this.selectedDispatch=this.selectVechileByVechId(i.vechileId).dispatch}),this.pickupdropDialog=!0}openNew(){this.isPickupAddMode=!0,this.orderId="",this.oBillingId="",this.oAddress="",this.oCity="",this.oCompany="",this.pickdropDate="",this.oLbs="",this.oOrderType="",this.oPhone="",this.oPieces="",this.oRef1="",this.oRef2="",this.oState="",this.oStatusVerb="",this.oZip="",this.oVechileId="",this.pickupdropDialog=!0}openSelectVechileDialog(){this.vechileId="",this.vechileType="",this.vechilesDialog=!0}hideVechilesDialog(){this.vechilesDialog=!1}selectVechile(t){const i=this.vechiles.find(s=>s.id===t);this.oVechileId=i.vechileId,this.hideVechilesDialog()}selectVechileByVechId(t){return this.vechiles.find(s=>s.vechileId===t)}selectDispatchStatus(t){const i=this.vechiles.find(s=>s.vechileId===t);return i?this.drivers.find(l=>l.driverId===i.driverId).driverName:""}selectDriverName(t){const i=this.vechiles.find(s=>s.vechileId===t);return i?this.drivers.find(l=>l.driverId===i.driverId).driverName:""}saveBilling(){if(this.isOrderAddMode)this.prepareBilling(),this.billingService.register(this.billing).pipe((0,p.P)()).subscribe(U=>{this.alertService.success("Billing added successfully"),this.router.navigate(["orders"])},U=>{this.alertService.error(U),this.loading=!1});else{var t=new Date,l=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),c=new Date;c.setHours(t.getHours()+2);var Bt=c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()+" "+c.getHours()+":"+c.getMinutes()+":"+c.getSeconds();this.prepareBilling(),this.billingService.getByBillingId(this.billing.billingId).pipe((0,p.P)()).subscribe(U=>{var Nt=U.tripStatus;this.billing=U,this.billing.term=this.selectedTerm,this.billing.author=this.selectedAuthor,this.billing.billNote=this.billNote,this.billing.selVech=this.selectedSelVech,this.billing.company=this.company,this.billing.billTo=this.billTo,this.billing.ref1=this.ref1,this.billing.ref2=this.ref2,this.billing.note=this.note,this.billing.tripStatus=this.selectedTripStatus,Nt!=this.selectedTripStatus&&(this.billing.tripStatusChangeTime1=l,this.billing.tripStatusChangeTime2=Bt),this.billing.manualDate=this.manualDate,this.billing.pod=this.pod,this.billing.locationCountry=this.locationCountry,this.billing.locationState=this.locationState,this.billing.locationZip=this.locationZip,this.billingService.update(this.billing.id,this.billing).pipe((0,p.P)()).subscribe(H=>{this.alertService.success("Update successful",{keepAfterRouteChange:!0}),this.router.navigate(["orders"])},H=>{this.alertService.error(H),this.loading=!1})})}}cancelBilling(){this.router.navigate(["orders"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.px),e.Y36(d.jM),e.Y36(d.HT),e.Y36(d.Ft),e.Y36(u.F0),e.Y36(u.gz),e.Y36(d.c9))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([m.ez,m.YP])],decls:76,vars:34,consts:[[4,"ngIf"],[1,"card"],["styleClass","p-mb-3"],[1,"flex-container-billing"],[3,"options","ngModel","ngModelChange"],["type","text","pInputText","",3,"ngModel","ngModelChange"],["type","date","id","datetimepicker",3,"ngModel","ngModelChange"],["type","time","id","manualTime","min","01:00","max","24:00","required","",3,"ngModel","ngModelChange"],["disabled","true","type","text","pInputText","",3,"ngModel","ngModelChange"],["disabled","true","type","text","pInputText","",2,"color","red",3,"ngModel","ngModelChange"],["dataKey","id",3,"value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["styleClass","p-mb-4"],["pTemplate","left"],["pTemplate","right"],["id","pickupDialog","header","Pickup Or Drop Details","widgetVar","pickupDialog","position","center center","styleClass","p-fluid",2,"width","500px","height","1200px",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["id","vechilesDialog","header","Select Vechile","widgetVar","vechilesDialog","position","center center","styleClass","p-fluid",2,"width","500px","height","1200px",3,"visible","modal","visibleChange"],[1,"p-d-flex","p-ai-center","p-jc-between"],["pButton","","pRipple","","label","Pickup&Drop","icon","pi pi-plus",1,"p-button-success","p-mr-2",3,"click"],[2,"color","blue","font-weight","bold"],[2,"color","green"],[2,"color","maroon"],[2,"color","blue"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"disabled","click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["pButton","","pRipple","","label","Cancel","icon","pi",1,"p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","label","Save","icon","pi",1,"p-button-success","p-mr-2",3,"click"],[1,"flex-container"],[2,"color","blue","font-weight","bold","font-size","16px",3,"options","ngModel","ngModelChange"],[1,"p-formgrid","p-grid"],[1,"p-field","p-col"],["pButton","","pRipple","","label","SelectVechile","icon","pi pi-eye",1,"p-button-text",3,"click"],["type","text","pInputText","","id","oVechileId","placeholder","Vechile Id",3,"ngModel","ngModelChange"],["placeholder","Select a Dispatch",3,"options","ngModel","ngModelChange"],["for","oCompany"],["type","text","pInputText","","id","oCompany",3,"ngModel","ngModelChange"],["for","oAddress"],["type","text","pInputText","","id","oAddress",3,"ngModel","ngModelChange"],["for","oCity"],["type","text","pInputText","","id","oCity",3,"ngModel","ngModelChange"],["for","oPhone"],["type","text","pInputText","","id","oPhone",3,"ngModel","ngModelChange"],["for","oState"],["type","text","pInputText","","id","oState",3,"ngModel","ngModelChange"],["for","oZip"],["type","text","pInputText","","id","oZip",3,"ngModel","ngModelChange"],["for","oDatTime"],["type","date","id","pickdropDate",3,"ngModel","ngModelChange"],["type","time","id","pickdropTime","min","01:00","max","24:00","required","",3,"ngModel","ngModelChange"],["for","oStatusVerb"],["type","text","pInputText","","id","oStatusVerb",3,"ngModel","ngModelChange"],["for","oPieces"],["type","text","pInputText","","id","oPieces",3,"ngModel","ngModelChange"],["for","oLbs"],["type","text","pInputText","","id","oLbs",3,"ngModel","ngModelChange"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["selectionMode","single","dataKey","id",1,"table","table-striped","table-hover",3,"value","selection","filterDelay","selectionChange"],[2,"width","10%"],[3,"pSelectableRow","pSelectableRowDblClick"],[2,"color","red","font-weight","bold"],[2,"white-space","nowrap"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,Ze,2,0,"h1",0),e.YNc(1,Me,2,0,"h1",0),e._UZ(2,"p-toast"),e.TgZ(3,"div",1)(4,"p-toolbar",2)(5,"div",3)(6,"div")(7,"div"),e._uU(8,"Billing Terms"),e.qZA(),e.TgZ(9,"p-dropdown",4),e.NdJ("ngModelChange",function(l){return i.selectedTerm=l}),e.qZA(),e.TgZ(10,"div"),e._uU(11,"Authorization"),e.qZA(),e.TgZ(12,"p-dropdown",4),e.NdJ("ngModelChange",function(l){return i.selectedAuthor=l}),e.qZA(),e.TgZ(13,"div"),e._uU(14,"Selected Vechile"),e.qZA(),e.TgZ(15,"p-dropdown",4),e.NdJ("ngModelChange",function(l){return i.selectedSelVech=l}),e.qZA()()(),e.TgZ(16,"div",3)(17,"div")(18,"div"),e._uU(19,"Ref1"),e.qZA(),e.TgZ(20,"input",5),e.NdJ("ngModelChange",function(l){return i.ref1=l}),e.qZA(),e.TgZ(21,"div"),e._uU(22,"Ref2"),e.qZA(),e.TgZ(23,"input",5),e.NdJ("ngModelChange",function(l){return i.ref2=l}),e.qZA(),e.TgZ(24,"div"),e._uU(25,"Billing Notes"),e.qZA(),e.TgZ(26,"input",5),e.NdJ("ngModelChange",function(l){return i.billNote=l}),e.qZA()()(),e.TgZ(27,"div",3)(28,"div")(29,"div"),e._uU(30,"Company"),e.qZA(),e.TgZ(31,"input",5),e.NdJ("ngModelChange",function(l){return i.company=l}),e.qZA(),e.TgZ(32,"div"),e._uU(33,"Bill To"),e.qZA(),e.TgZ(34,"input",5),e.NdJ("ngModelChange",function(l){return i.billTo=l}),e.qZA(),e.TgZ(35,"div"),e._uU(36,"ManualDeliveryDate"),e.qZA(),e.TgZ(37,"input",6),e.NdJ("ngModelChange",function(l){return i.manualDate=l}),e.qZA(),e.TgZ(38,"input",7),e.NdJ("ngModelChange",function(l){return i.manualTime=l}),e.qZA()()(),e.TgZ(39,"div",3)(40,"div")(41,"div"),e._uU(42,"TripStatus"),e.qZA(),e.TgZ(43,"p-dropdown",4),e.NdJ("ngModelChange",function(l){return i.selectedTripStatus=l}),e.qZA(),e.TgZ(44,"div"),e._uU(45,"TripStatusChangeTime1"),e.qZA(),e.TgZ(46,"input",8),e.NdJ("ngModelChange",function(l){return i.tripStatusChangeTime1=l}),e.qZA(),e.TgZ(47,"div"),e._uU(48,"TripStatusChangeTime2"),e.qZA(),e.TgZ(49,"input",9),e.NdJ("ngModelChange",function(l){return i.tripStatusChangeTime2=l}),e.qZA()()(),e.TgZ(50,"div",3)(51,"div")(52,"div"),e._uU(53,"LocationCity"),e.qZA(),e.TgZ(54,"input",5),e.NdJ("ngModelChange",function(l){return i.locationCountry=l}),e.qZA(),e.TgZ(55,"div"),e._uU(56,"LocationState"),e.qZA(),e.TgZ(57,"input",5),e.NdJ("ngModelChange",function(l){return i.locationState=l}),e.qZA(),e.TgZ(58,"div"),e._uU(59,"LocationZip"),e.qZA(),e.TgZ(60,"input",5),e.NdJ("ngModelChange",function(l){return i.locationZip=l}),e.qZA()()()(),e.TgZ(61,"p-table",10,11),e.YNc(63,Ae,2,0,"ng-template",12),e.YNc(64,Ie,39,0,"ng-template",13),e.YNc(65,Ee,46,18,"ng-template",14),e.qZA()(),e.TgZ(66,"p-toolbar",15),e.YNc(67,De,0,0,"ng-template",16),e.YNc(68,qe,2,0,"ng-template",17),e.qZA(),e.TgZ(69,"p-dialog",18),e.NdJ("visibleChange",function(l){return i.pickupdropDialog=l}),e.YNc(70,Ue,58,16,"ng-template",19),e.YNc(71,Oe,2,0,"ng-template",20),e.qZA(),e._UZ(72,"p-confirmDialog"),e.TgZ(73,"p-dialog",21),e.NdJ("visibleChange",function(l){return i.vechilesDialog=l}),e.YNc(74,Ve,5,3,"ng-template",19),e.YNc(75,Be,1,0,"ng-template",20),e.qZA()),2&t&&(e.Q6J("ngIf",i.isOrderAddMode),e.xp6(1),e.Q6J("ngIf",!i.isOrderAddMode),e.xp6(8),e.Q6J("options",i.terms)("ngModel",i.selectedTerm),e.xp6(3),e.Q6J("options",i.authors)("ngModel",i.selectedAuthor),e.xp6(3),e.Q6J("options",i.selVechs)("ngModel",i.selectedSelVech),e.xp6(5),e.Q6J("ngModel",i.ref1),e.xp6(3),e.Q6J("ngModel",i.ref2),e.xp6(3),e.Q6J("ngModel",i.billNote),e.xp6(5),e.Q6J("ngModel",i.company),e.xp6(3),e.Q6J("ngModel",i.billTo),e.xp6(3),e.Q6J("ngModel",i.manualDate),e.xp6(1),e.Q6J("ngModel",i.manualTime),e.xp6(5),e.Q6J("options",i.tripstatuses)("ngModel",i.selectedTripStatus),e.xp6(3),e.Q6J("ngModel",i.tripStatusChangeTime1),e.xp6(3),e.Q6J("ngModel",i.tripStatusChangeTime2),e.xp6(5),e.Q6J("ngModel",i.locationCountry),e.xp6(3),e.Q6J("ngModel",i.locationState),e.xp6(3),e.Q6J("ngModel",i.locationZip),e.xp6(1),e.Q6J("value",i.orders)("rows",12)("paginator",!0)("rowHover",!0)("showCurrentPageReport",!0),e.xp6(8),e.Q6J("visible",i.pickupdropDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(33,Ne)),e.xp6(1),e.Q6J("visible",i.vechilesDialog)("modal",!0))},dependencies:[v.iA,m.jx,v.Ei,v.s0,r.O5,g.Fj,g.JJ,g.Q7,_.Hq,f.V,C.Lt,N.FN,T.o,Z.o,g.On,xe],styles:["[_nghost-%COMP%]     .p-paginator .p-paginator-current{margin-left:auto}[_nghost-%COMP%]     .p-progressbar{height:.5rem;background-color:#d8dadc}[_nghost-%COMP%]     .p-progressbar .p-progressbar-value{background-color:#607d8b}[_nghost-%COMP%]     .table-header{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-calendar .p-datepicker{min-width:25rem}[_nghost-%COMP%]     .p-calendar .p-datepicker td{font-weight:400}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-paginator{padding:1rem}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{text-align:left}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{cursor:auto}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}[_nghost-%COMP%]     .p-datatable-customers .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width: 960px){[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th, [_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tfoot>tr>td{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr{border-bottom:1px solid var(--layer-2)}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{text-align:left;display:block;border:0 none!important;width:100%!important;float:left;clear:left;border:0 none}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4rem 1rem -.4rem -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td .p-progressbar{margin-top:.5rem}}","[_nghost-%COMP%]     .p-dialog .product-image{width:150px;margin:0 auto 2rem;display:block}"]}),n})();var V=a(8407),R=a(9580);const Je=[{path:"",component:h,children:[{path:"",component:W},{path:"add",component:J},{path:"map",component:(()=>{class n{constructor(t,i){this.accountService=t,this.vechileService=i,this.userAdminRole="",this.vechiles=null,this.availableCount="",this.notAvailableCount="",this.underLoadCount="",this.tpoints=[],this.user=this.accountService.userValue}ngOnInit(){this.accountService.getById(this.user.id).pipe((0,p.P)()).subscribe(t=>{this.userAdminRole=t.role}),this.loadTrackpoints(),this.initializeMapOptions()}loadTrackpoints(){return this.vechileService.getTrackPoints().subscribe(t=>{this.tpoints=t,this.addSampleMarker()})}isAdminRole(){return"admin"!=this.userAdminRole}onMapReady(t){this.map=t}initializeMapOptions(){this.mapOptions={center:(0,V.latLng)(40,-90),zoom:4.2,layers:[(0,V.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"Logic Map"})]}}addSampleMarker(){for(let t=0;t<this.tpoints.length;t++){const i=new V.Marker([this.tpoints[t].latitude,this.tpoints[t].longitude],{title:this.tpoints[t].vechileId}).setIcon((0,V.icon)({iconSize:[25,30],iconAnchor:[13,31],iconUrl:"assets/icons/marker.png"}));i.bindPopup(this.tpoints[t].vechileId),i.on("click",function(s){this.openPopup()}),i.addTo(this.map)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.BR),e.Y36(d.HT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:25,vars:4,consts:[[1,"p-4"],[1,"container"],[2,"font-weight","bold","color","green"],[2,"font-weight","bold","color","blueviolet"],[2,"font-weight","bold","color","blue"],[2,"font-weight","bold","color","red"],["id","map","leaflet","",3,"leafletOptions","leafletMapReady"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"Trip Monitor Map"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"table")(6,"tr")(7,"td",2),e._uU(8,"Available Vechiles:\xa0\xa0\xa0\xa0 "),e.qZA(),e.TgZ(9,"td")(10,"div",3),e._uU(11),e.qZA()(),e.TgZ(12,"td",4),e._uU(13,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Under Load Vechiles:\xa0\xa0\xa0\xa0 "),e.qZA(),e.TgZ(14,"td")(15,"div",3),e._uU(16),e.qZA()(),e.TgZ(17,"td",5),e._uU(18,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Not Available Vechiles:\xa0\xa0\xa0\xa0 "),e.qZA(),e.TgZ(19,"td")(20,"div",3),e._uU(21),e.qZA()()(),e.TgZ(22,"tr"),e._UZ(23,"br"),e.qZA()(),e.TgZ(24,"div",6),e.NdJ("leafletMapReady",function(l){return i.onMapReady(l)}),e.qZA()()()),2&t&&(e.xp6(11),e.hij(" ",i.availableCount,""),e.xp6(5),e.hij(" ",i.underLoadCount,""),e.xp6(5),e.hij(" ",i.notAvailableCount,""),e.xp6(3),e.Q6J("leafletOptions",i.mapOptions))},dependencies:[R.je],encapsulation:2}),n})()},{path:"edit/:billingId",component:J}]}];let Re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(Je),u.Bz]}),n})();var Pe=a(529),He=a(585),Qe=a(8177),je=a(4076),B=a(8235);let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez,L.T]}),n})(),Ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez,m.m8,_.hJ,B.q,P,L.T,m.m8,_.hJ,B.q,P]}),n})();function Tt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",3),e.NdJ("click",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.clear(s))})("keydown.enter",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.clear(s))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",t.iconCancelClass)("ngStyle",t.iconCancelStyle),e.uIk("tabindex",t.disabled||t.readonly?null:"0")}}function yt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",4),e.NdJ("click",function(s){const c=e.CHM(t).index,b=e.oxw();return e.KtG(b.rate(s,c))})("keydown.enter",function(s){const c=e.CHM(t).index,b=e.oxw();return e.KtG(b.rate(s,c))}),e.qZA()}if(2&n){const t=o.index,i=e.oxw();e.Q6J("ngClass",!i.value||t>=i.value?i.iconOffClass:i.iconOnClass)("ngStyle",!i.value||t>=i.value?i.iconOffStyle:i.iconOnStyle),e.uIk("tabindex",i.disabled||i.readonly?null:"0")}}const xt=function(n,o){return{"p-readonly":n,"p-disabled":o}},St={provide:g.JU,useExisting:(0,e.Gpc)(()=>Zt),multi:!0};let Zt=(()=>{class n{constructor(t){this.cd=t,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star-fill",this.iconOffClass="pi pi-star",this.iconCancelClass="pi pi-ban",this.onRate=new e.vpe,this.onCancel=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let t=0;t<this.stars;t++)this.starsArray[t]=t}rate(t,i){!this.readonly&&!this.disabled&&(this.value=i+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:t,value:i+1})),t.preventDefault()}clear(t){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(t)),t.preventDefault()}writeValue(t){this.value=t,this.cd.detectChanges()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-rating"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[e._Bn([St])],decls:3,vars:6,consts:[[1,"p-rating",3,"ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Tt,1,3,"span",1),e.YNc(2,yt,1,3,"span",2),e.qZA()),2&t&&(e.Q6J("ngClass",e.WLB(3,xt,i.readonly,i.disabled)),e.xp6(1),e.Q6J("ngIf",i.cancel),e.xp6(1),e.Q6J("ngForOf",i.starsArray))},dependencies:[r.mk,r.sg,r.O5,r.PC],styles:[".p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0}),n})(),Mt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez]}),n})();const At=["rb"],It=function(n,o,t){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":o,"p-radiobutton-label-focus":t}};function wt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"label",4),e.NdJ("click",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.select(s))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(3);e.Tol(t.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,It,i.checked,t.disabled,t.focused)),e.uIk("for",t.inputId),e.xp6(1),e.Oqu(t.label)}}const kt=function(n,o,t){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":o,"p-radiobutton-focused":t}},Et=function(n,o,t){return{"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":o,"p-focus":t}},Dt={provide:g.JU,useExisting:(0,e.Gpc)(()=>Ut),multi:!0};let qt=(()=>{class n{constructor(){this.accessors=[]}add(t,i){this.accessors.push([t,i])}remove(t){this.accessors=this.accessors.filter(i=>i[1]!==t)}select(t){this.accessors.forEach(i=>{this.isSameGroup(i,t)&&i[1]!==t&&i[1].writeValue(t.value)})}isSameGroup(t,i){return!!t[0].control&&t[0].control.root===i.control.control.root&&t[1].name===i.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ut=(()=>{class n{constructor(t,i,s){this.cd=t,this.injector=i,this.registry=s,this.onClick=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(g.a5),this.checkName(),this.registry.add(this.control,this)}handleClick(t,i,s){t.preventDefault(),!this.disabled&&(this.select(t),s&&i.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:t,value:this.value}))}writeValue(t){this.checked=t==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}onChange(t){this.select(t)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(e.zs3),e.Y36(qt))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-radioButton"]],viewQuery:function(t,i){if(1&t&&e.Gf(At,5),2&t){let s;e.iGM(s=e.CRH())&&(i.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[e._Bn([Dt])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("change",function(c){return i.onChange(c)})("focus",function(c){return i.onInputFocus(c)})("blur",function(c){return i.onInputBlur(c)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(c){e.CHM(s);const b=e.MAs(3);return e.KtG(i.handleClick(c,b,!0))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,wt,2,9,"label",6)}2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.kEZ(15,kt,i.checked,i.disabled,i.focused)),e.xp6(2),e.Q6J("checked",i.checked)("disabled",i.disabled),e.uIk("id",i.inputId)("name",i.name)("value",i.value)("tabindex",i.tabindex)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy),e.xp6(2),e.Q6J("ngClass",e.kEZ(19,Et,i.checked,i.disabled,i.focused)),e.xp6(2),e.Q6J("ngIf",i.label))},dependencies:[r.mk,r.O5,r.PC],encapsulation:2,changeDetection:0}),n})(),Ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez]}),n})();var Ft=a(5047);let Lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez]}),n})(),Vt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v.U$,r.ez,g.UX,Re,He._8,Qe.JH,f.S,A.q4,je.vI,C.kW,_.hJ,N.EV,T.j,B.q,Pe.JF,Ct,Z.V,Mt,g.u5,Ot,Ft.L$,Se,Lt,R.UO]}),n})()},9444:(x,S,a)=>{var g=a(4542),r=a(6926),u=r;u.v1=g,u.v4=r,x.exports=u},7805:x=>{for(var S=[],a=0;a<256;++a)S[a]=(a+256).toString(16).substr(1);x.exports=function g(r,u){var e=u||0;return[S[r[e++]],S[r[e++]],S[r[e++]],S[r[e++]],"-",S[r[e++]],S[r[e++]],"-",S[r[e++]],S[r[e++]],"-",S[r[e++]],S[r[e++]],"-",S[r[e++]],S[r[e++]],S[r[e++]],S[r[e++]],S[r[e++]],S[r[e++]]].join("")}},7142:x=>{var S=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(S){var a=new Uint8Array(16);x.exports=function(){return S(a),a}}else{var g=new Array(16);x.exports=function(){for(var e,u=0;u<16;u++)0==(3&u)&&(e=4294967296*Math.random()),g[u]=e>>>((3&u)<<3)&255;return g}}},4542:(x,S,a)=>{var u,e,g=a(7142),r=a(7805),h=0,p=0;x.exports=function k(d,v,m){var _=v&&m||0,f=v||[],A=(d=d||{}).node||u,C=void 0!==d.clockseq?d.clockseq:e;if(null==A||null==C){var T=g();null==A&&(A=u=[1|T[0],T[1],T[2],T[3],T[4],T[5]]),null==C&&(C=e=16383&(T[6]<<8|T[7]))}var Z=void 0!==d.msecs?d.msecs:(new Date).getTime(),I=void 0!==d.nsecs?d.nsecs:p+1,O=Z-h+(I-p)/1e4;if(O<0&&void 0===d.clockseq&&(C=C+1&16383),(O<0||Z>h)&&void 0===d.nsecs&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=Z,p=I,e=C;var E=(1e4*(268435455&(Z+=122192928e5))+I)%4294967296;f[_++]=E>>>24&255,f[_++]=E>>>16&255,f[_++]=E>>>8&255,f[_++]=255&E;var D=Z/4294967296*1e4&268435455;f[_++]=D>>>8&255,f[_++]=255&D,f[_++]=D>>>24&15|16,f[_++]=D>>>16&255,f[_++]=C>>>8|128,f[_++]=255&C;for(var q=0;q<6;++q)f[_+q]=A[q];return v||r(f)}},6926:(x,S,a)=>{var g=a(7142),r=a(7805);x.exports=function u(e,h,p){var k=h&&p||0;"string"==typeof e&&(h="binary"===e?new Array(16):null,e=null);var d=(e=e||{}).random||(e.rng||g)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,h)for(var v=0;v<16;++v)h[k+v]=d[v];return h||r(d)}}}]);